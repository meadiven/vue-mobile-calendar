function __vue_normalize__(t,e,a,n,i,s,r,o){var l=("function"==typeof a?a.options:a)||{};l.__file="vue-mobile-calendar.vue",l.render||(l.render=t.render,l.staticRenderFns=t.staticRenderFns,l._compiled=!0,i&&(l.functional=!0)),l._scopeId=n;var h;if(e&&(h=function(t){e.call(this,r(t))}),void 0!==h)if(l.functional){var c=l.render;l.render=function(t,e){return h.call(e),c(t,e)}}else{var d=l.beforeCreate;l.beforeCreate=d?[].concat(d,h):[h]}return l}function __vue_create_injector__(){var t=document.head||document.getElementsByTagName("head")[0],e=__vue_create_injector__.styles||(__vue_create_injector__.styles={}),a="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());return function(n,i){if(!document.querySelector('style[data-vue-ssr-id~="'+n+'"]')){var s=a?i.media||"default":n,r=e[s]||(e[s]={ids:[],parts:[],element:void 0});if(!r.ids.includes(n)){var o=i.source,l=r.ids.length;if(r.ids.push(n),i.map&&(o+="\n/*# sourceURL="+i.map.sources[0]+" */",o+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i.map))))+" */"),a&&(r.element=r.element||document.querySelector("style[data-group="+s+"]")),!r.element){var h=r.element=document.createElement("style");h.type="text/css",i.media&&h.setAttribute("media",i.media),a&&(h.setAttribute("data-group",s),h.setAttribute("data-next-index","0")),t.appendChild(h)}if(a&&(l=parseInt(r.element.getAttribute("data-next-index")),r.element.setAttribute("data-next-index",l+1)),r.element.styleSheet)r.parts.push(o),r.element.styleSheet.cssText=r.parts.filter(Boolean).join("\n");else{var c=document.createTextNode(o),d=r.element.childNodes;d[l]&&r.element.removeChild(d[l]),d.length?r.element.insertBefore(c,d[l]):r.element.appendChild(c)}}}}}function install(t){install.installed||(install.installed=!0,t.component("VueMobileCalendar",component))}var script={name:"VueMobileCalendar",props:{selected:{type:String,default:null},show:{type:Boolean,default:!0},month:{type:Boolean,default:!0},change:{type:Boolean,default:!1},lunar:{type:Boolean,default:!1},init:{type:Boolean,default:!0},touch:{type:Boolean,default:!1}},data:function(){return{months:{prev:[],current:[],next:[]},moveInfo:{start:null,y:0,position:0,moved:!1,animation:!1},height:0,date:null}},created:function(){this.selected?this.date=new Date(this.selected.slice(0,-2)+"01"):this.date=new Date((new Date).setDate(1))},mounted:function(){var t=this;this.init&&(this.months.current=this.getDateArray(),this.$nextTick(function(){var e=t.$el.querySelector(".month").clientHeight;t.height=e})),this.$nextTick(function(){})},methods:{reduceYear:function(){this.date=new Date(this.date.setYear(this.date.getFullYear()-1)),this.getDateArray()},plusYear:function(){this.date=new Date(this.date.setYear(this.date.getFullYear()+1)),this.getDateArray()},reduceMonth:function(){this.date=new Date(this.date.setMonth(this.date.getMonth()-1)),this.getDateArray()},plusMonth:function(){this.date=new Date(this.date.setMonth(this.date.getMonth()+1)),this.getDateArray()},selectDate:function(t,e){var a=this.months.current[t][e];this.$emit("change",a)},moveStart:function(t){var e=t.currentTarget;this.moveInfo.moved=!1,this.moveInfo.animation=!1,this.moveInfo.start=t.targetTouches[0].pageY,this.moveInfo.position=1*e.style.WebkitTransform.replace(/translateY\(/g,"").replace(/px\)/g,"")},moving:function(t){var e=t.targetTouches[0].pageY-this.moveInfo.start;if(0!=e||this.moved){t.preventDefault(),this.moveInfo.moved=!0;var a=e+this.moveInfo.position,n=new Date(this.date.getFullYear(),this.date.getMonth(),this.date.getDate());if(e>0){if(a>this.$el.querySelector(".prev").clientHeight){var i=new Date(n.setMonth(this.date.getMonth()-1));this.months.prev.unshift(this.getDateArray(i))}}else if(e<0&&a<-1*this.$el.querySelector(".next").clientHeight){var s=new Date(n.setMonth(this.date.getMonth()+1));this.months.next.push(this.getDateArray(s))}this.moveInfo.y=a}},moveEnd:function(t){var e=this;if(this.moveInfo.moved){t.preventDefault();var a=this.moveInfo.y;if(0!=a){var n,i=this.$refs,s=i.current,r=s.querySelector(".td").clientHeight,o=a>0?"prev":"next",l=a>0?1:-1,h=this.months[o],c=0;if(a>0)for(var d=0,u=h.length;d<u;d++){var v=i[o+"_"+d][0].clientHeight;if(c+v-a>0){var _=a-c;_>=r?(n=d,this.moveInfo.y=(c+v)*l,this.moveInfo.animation=!0,this.height=v):_>0&&(n=d-1,d-1>0&&(this.height=i[o+"_"+n][0].clientHeight),this.moveInfo.y=c*l,this.moveInfo.animation=!0),setTimeout(function(){e.moveInfo.animation=!1;var t=(n+1)*l;e.date.setMonth(e.date.getMonth()-t),0!=t&&e.$emit("move",e.date);var a=-1==n?e.months.current:h[n];e.$nextTick(function(){e.moveInfo.y=0,e.months={prev:[],current:a,next:[]}})},300);break}c+=v}else{a=Math.abs(a);for(var f=0,m=h.length;f<m;f++){var p=i[o+"_"+f][0].clientHeight,y=0==f?s.clientHeight:i[o+"_"+(f-1)][0].clientHeight;if(a>c&&a<c+y){var g=a-c;g>=r?(n=f,this.moveInfo.y=(c+y)*l,this.moveInfo.animation=!0,this.height=p):g>0&&(n=f-1,f-1>0&&(this.height=i[o+"_"+n][0].clientHeight),this.moveInfo.y=c*l,this.moveInfo.animation=!0),setTimeout(function(){e.moveInfo.animation=!1;var t=(n+1)*l;e.date.setMonth(e.date.getMonth()-t),0!=t&&e.$emit("move",e.date);var a=-1==n?e.months.current:h[n];e.$nextTick(function(){e.moveInfo.y=0,e.months={prev:[],current:a,next:[]}})},300);break}c+=p}}}}},getDateArray:function(t){for(var e=(t=t||this.date).getFullYear(),a=t.getMonth(),n=new Date(e,a,1).getDay(),i=this.getMonthDays(),s=Math.ceil((i[a]+n)/7),r=[],o=0;o<s;o++){for(var l=[],h=0;h<7;h++){var c=7*o+h-n+1,d=void 0,u=void 0,v=void 0,_=void 0,f=!1;c<=0?(v=a-1<0?11:a-1,u=a-1<0?e-1:e,_=i[v]+c):c>i[a]?(v=a+1>11?0:a+1,u=a+1>11?e+1:e,_=c-i[a]):(u=e,v=a,_=c,f=!0);var m=this.getDateString(u,v,_);d={weekday:h,day:_,isToday:this.isToday(u,v,_),dateStr:m,inMonth:f},this.lunar&&(d.lunar=this.getLunarDay(new Date(u,v,_))),l.push(d)}r.push(l)}return r},isToday:function(t,e,a){var n=new Date;return n.getFullYear()==t&&n.getMonth()==e&&n.getDate()==a},getDateString:function(t,e,a){return t+"-"+(e+1<10?"0"+(e+1):e+1)+"-"+(a<10?"0"+a:a)},isLeap:function(t){return t%100==0?t%400==0?1:0:t%4==0?1:0},getMonthDays:function(t){return new Array(31,28+this.isLeap(t),31,30,31,30,31,31,30,31,30,31)},getLunarDay:function(t){function e(t){var e=function(t,e){return new Date(31556925974.7*(t-1900)+6e4*n[e]+Date.UTC(1900,0,6,2,5)).getUTCDate()},v=function(t){var e,n=348;for(e=32768;e>8;e>>=1)n+=a[t-1900]&e?1:0;return n+f(t)},_=function(t){return i.charAt(t%10)+s.charAt(t%12)},f=function(t){return m(t)?65536&a[t-1900]?30:29:0},m=function(t){return 15&a[t-1900]},p=function(t,e){return a[t-1900]&65536>>e?30:29},y=function(t){var e,a=0,n=0,i=(t-new Date(1900,0,31))/864e5;for(this.dayCyl=i+40,this.monCyl=14,e=1900;e<2050&&i>0;e++)i-=n=v(e),this.monCyl+=12;for(i<0&&(i+=n,e--,this.monCyl-=12),this.year=e,this.yearCyl=e-1864,a=m(e),this.isLeap=!1,e=1;e<13&&i>0;e++)a>0&&e==a+1&&0==this.isLeap?(--e,this.isLeap=!0,n=f(this.year)):n=p(this.year,e),1==this.isLeap&&e==a+1&&(this.isLeap=!1),i-=n,0==this.isLeap&&this.monCyl++;0==i&&a>0&&e==a+1&&(this.isLeap?this.isLeap=!1:(this.isLeap=!0,--e,--this.monCyl)),i<0&&(i+=n,--e,--this.monCyl),this.month=e,this.day=i+1},g=function(t){return t<10?"0"+(0|t):t},b=function(t,e){var a=t;return e.replace(/dd?d?d?|MM?M?M?|yy?y?y?/g,function(t){switch(t){case"yyyy":var e="000"+a.getFullYear();return e.substring(e.length-4);case"dd":return g(a.getDate());case"d":return a.getDate().toString();case"MM":return g(a.getMonth()+1);case"M":return a.getMonth()+1}})};this.isToday=!1,this.isRestDay=!1,this.solarYear=b(t,"yyyy"),this.solarMonth=b(t,"M"),this.solarDate=b(t,"d"),this.solarWeekDay=t.getDay(),this.inWeekDays="星期"+l.charAt(this.solarWeekDay);var w=new y(t);this.lunarYear=w.year,this.shengxiao=r.charAt((this.lunarYear-4)%12),this.lunarMonth=w.month,this.lunarIsLeapMonth=w.isLeap,this.lnongMonth=this.lunarIsLeapMonth?"闰"+c[w.month-1]:c[w.month-1],this.lunarDate=w.day,this.showInLunar=this.lnongDate=function(t,e){var a;switch(e){case 10:a="初十";break;case 20:a="二十";break;case 30:a="三十";break;default:a=h.charAt(Math.floor(e/10)),a+=l.charAt(e%10)}return a}(this.lunarMonth,this.lunarDate),1==this.lunarDate&&(this.showInLunar=this.lnongMonth+"月"),this.ganzhiYear=_(w.yearCyl),this.ganzhiMonth=_(w.monCyl),this.ganzhiDate=_(w.dayCyl++),this.jieqi="",this.restDays=0,e(this.solarYear,2*(this.solarMonth-1))==b(t,"d")&&(this.showInLunar=this.jieqi=o[2*(this.solarMonth-1)]),e(this.solarYear,2*(this.solarMonth-1)+1)==b(t,"d")&&(this.showInLunar=this.jieqi=o[2*(this.solarMonth-1)+1]),"清明"==this.showInLunar&&(this.showInLunar="清明节",this.restDays=1),this.solarFestival=d[b(t,"MM")+b(t,"dd")],void 0===this.solarFestival?this.solarFestival="":/\*(\d)/.test(this.solarFestival)&&(this.restDays=parseInt(RegExp.$1),this.solarFestival=this.solarFestival.replace(/\*\d/,"")),this.showInLunar=""==this.solarFestival?this.showInLunar:this.solarFestival,this.lunarFestival=u[this.lunarIsLeapMonth?"00":g(this.lunarMonth)+g(this.lunarDate)],void 0===this.lunarFestival?this.lunarFestival="":/\*(\d)/.test(this.lunarFestival)&&(this.restDays=this.restDays>parseInt(RegExp.$1)?this.restDays:parseInt(RegExp.$1),this.lunarFestival=this.lunarFestival.replace(/\*\d/,"")),12==this.lunarMonth&&this.lunarDate==p(this.lunarYear,12)&&(this.lunarFestival=u["0100"],this.restDays=1),this.showInLunar=""==this.lunarFestival?this.showInLunar:this.lunarFestival}var a=[19416,19168,42352,21717,53856,55632,91476,22176,39632,21970,19168,42422,42192,53840,119381,46400,54944,44450,38320,84343,18800,42160,46261,27216,27968,109396,11104,38256,21234,18800,25958,54432,59984,28309,23248,11104,100067,37600,116951,51536,54432,120998,46416,22176,107956,9680,37584,53938,43344,46423,27808,46416,86869,19872,42448,83315,21200,43432,59728,27296,44710,43856,19296,43748,42352,21088,62051,55632,23383,22176,38608,19925,19152,42192,54484,53840,54616,46400,46496,103846,38320,18864,43380,42160,45690,27216,27968,44870,43872,38256,19189,18800,25776,29859,59984,27480,21952,43872,38613,37600,51552,55636,54432,55888,30034,22176,43959,9680,37584,51893,43344,46240,47780,44368,21977,19360,42416,86390,21168,43312,31060,27296,44368,23378,19296,42726,42208,53856,60005,54576,23200,30371,38608,19415,19152,42192,118966,53840,54560,56645,46496,22224,21938,18864,42359,42160,43600,111189,27936,44448],n=[0,21208,43467,63836,85337,107014,128867,150921,173149,195551,218072,240693,263343,285989,308563,331033,353350,375494,397447,419210,440795,462224,483532,504758],i="甲乙丙丁戊己庚辛壬癸",s="子丑寅卯辰巳午未申酉戌亥",r="鼠牛虎兔龙蛇马羊猴鸡狗猪",o=["小寒","大寒","立春","雨水","惊蛰","春分","清明","谷雨","立夏","小满","芒种","夏至","小暑","大暑","立秋","处暑","白露","秋分","寒露","霜降","立冬","小雪","大雪","冬至"],l="日一二三四五六七八九十",h="初十廿卅",c=["正","二","三","四","五","六","七","八","九","十","十一","腊"],d={"0101":"*1元旦节","0202":"湿地日","0214":"情人节","0308":"妇女节","0312":"植树节","0315":"消费者权益日","0401":"愚人节","0422":"地球日","0501":"*1劳动节","0504":"青年节","0512":"护士节","0518":"博物馆日","0520":"母亲节","0601":"儿童节","0623":"奥林匹克日","0630":"父亲节","0701":"建党节","0801":"建军节","0903":"抗战胜利日","0910":"教师节",1001:"*3国庆节",1201:"艾滋病日",1224:"平安夜",1225:"圣诞节"},u={"0100":"除夕","0101":"*2春节","0115":"元宵节","0505":"*1端午节","0707":"七夕节","0715":"中元节","0815":"*1中秋节","0909":"*1重阳节",1015:"下元节",1208:"腊八节",1223:"小年"};return new e(t)}}},__vue_script__=script,__vue_render__=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"calendar"},[a("div",{staticClass:"change-month"},[t.change?a("div",{staticClass:"change-item year"},[a("span",{staticClass:"change-reduce",on:{click:t.reduceYear}},[a("i")]),t._v(" "),a("span",[t._v(t._s(t.date.getFullYear())+"年")]),t._v(" "),a("span",{staticClass:"change-plus",on:{click:t.plusYear}},[a("i")])]):t._e(),t._v(" "),t.month?a("div",{staticClass:"current-month"},[t._v(t._s(t.date.getFullYear()+"年"+(t.date.getMonth()+1)+"月"))]):t._e(),t._v(" "),t.change?a("div",{staticClass:"change-item month"},[a("span",{staticClass:"change-reduce",on:{click:t.reduceMonth}},[a("i")]),t._v(" "),a("span",[t._v(t._s(t.date.getMonth()+1)+"月")]),t._v(" "),a("span",{staticClass:"change-plus",on:{click:t.plusMonth}},[a("i")])]):t._e()]),t._v(" "),a("div",{staticClass:"calendar-table"},[t._m(0),t._v(" "),a("div",{staticClass:"area",style:{height:t.height+"px"}},[a("div",{staticClass:"month",class:{animation:t.moveInfo.animation},style:{transform:"translateY("+t.moveInfo.y+"px)"},on:{touchstart:t.moveStart,touchmove:t.moving,touchend:t.moveEnd}},[a("div",{staticClass:"prev"},t._l(t.months.prev,function(e,n){return a("div",{ref:"prev_"+n,refInFor:!0,staticClass:"t-body"},t._l(e,function(e,n){return a("div",{staticClass:"tr"},t._l(e,function(e,i){return a("div",{staticClass:"td",class:{weekend:0==e.weekday||6==e.weekday,enable:e.enable,"out-month":!e.inMonth},on:{click:function(e){t.selectDate(n,i)}}},[a("div",{staticClass:"date-info",class:{now:e.isToday,select:t.selected==e.dateStr}},[a("div",{staticClass:"date-num"},[t._v(t._s(e.day))]),t._v(" "),t.lunar?a("div",{staticClass:"date-lunar"},[t._v(t._s(e.lunar.showInLunar))]):t._e(),t._v(" "),e.sch?a("div",{staticClass:"sch-icon"}):t._e()]),t._v(" "),t._t("default",null,{date:e})],2)}),0)}),0)}),0),t._v(" "),a("div",{ref:"current",staticClass:"t-body current"},t._l(t.months.current,function(e,n){return a("div",{staticClass:"tr"},t._l(e,function(e,i){return a("div",{staticClass:"td",class:{weekend:0==e.weekday||6==e.weekday,enable:e.enable,"out-month":!e.inMonth},on:{click:function(e){t.selectDate(n,i)}}},[a("div",{staticClass:"date-info",class:{now:e.isToday,select:t.selected==e.dateStr}},[a("div",{staticClass:"date-num"},[t._v(t._s(e.day))]),t._v(" "),t.lunar?a("div",{staticClass:"date-lunar"},[t._v(t._s(e.lunar.showInLunar))]):t._e(),t._v(" "),e.sch?a("div",{staticClass:"sch-icon"}):t._e()]),t._v(" "),t._t("default",null,{date:e})],2)}),0)}),0),t._v(" "),a("div",{staticClass:"next"},t._l(t.months.next,function(e,n){return a("div",{ref:"next_"+n,refInFor:!0,staticClass:"t-body"},t._l(e,function(e,n){return a("div",{staticClass:"tr"},t._l(e,function(e,i){return a("div",{staticClass:"td",class:{weekend:0==e.weekday||6==e.weekday,enable:e.enable,"out-month":!e.inMonth},on:{click:function(e){t.selectDate(n,i)}}},[a("div",{staticClass:"date-info",class:{now:e.isToday,select:t.selected==e.dateStr}},[a("div",{staticClass:"date-num"},[t._v(t._s(e.day))]),t._v(" "),t.lunar?a("div",{staticClass:"date-lunar"},[t._v(t._s(e.lunar.showInLunar))]):t._e(),t._v(" "),e.sch?a("div",{staticClass:"sch-icon"}):t._e()]),t._v(" "),t._t("default",null,{date:e})],2)}),0)}),0)}),0)])])])])},__vue_staticRenderFns__=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"t-head"},[a("div",{staticClass:"tr week-day"},[a("div",{staticClass:"td weekend"},[t._v("日")]),t._v(" "),a("div",{staticClass:"td"},[t._v("一")]),t._v(" "),a("div",{staticClass:"td"},[t._v("二")]),t._v(" "),a("div",{staticClass:"td"},[t._v("三")]),t._v(" "),a("div",{staticClass:"td"},[t._v("四")]),t._v(" "),a("div",{staticClass:"td"},[t._v("五")]),t._v(" "),a("div",{staticClass:"td weekend"},[t._v("六")])])])}],__vue_inject_styles__=function(t){t&&t("data-v-9f4bbe70_0",{source:".change-month{display:flex;align-items:center;justify-content:space-between}.current-month{flex:1;margin-top:12px;font-size:18px;line-height:26px;font-weight:600;text-align:center}.calendar-table{margin-top:22px;width:100%;text-align:center}.calendar-table .week-day{height:17px;font-size:10px;line-height:17px;color:#8d92a3}.calendar-table .tr{display:flex;align-items:center}.calendar-table .td{flex:1}.calendar-table .t-body .td{position:relative;height:38px}.calendar-table .t-body .td .date-info{display:flex;flex-direction:column;align-items:center;justify-content:center;position:absolute;top:0;left:0;right:0;bottom:0;margin:auto;width:28px;height:28px;border-radius:50%;font-size:11px}.calendar-table .t-body .td .date-info.now{background-color:#f5f5f5}.calendar-table .t-body .td .date-info.select{background-color:#00bcd5;color:#fff}.calendar-table .t-body .td.out-month{visibility:hidden}.calendar-table .area{transition:height .3s;overflow:hidden}.calendar-table .month{position:relative}.calendar-table .month.animation{transition:transform .3s}.calendar-table .month .next,.calendar-table .month .prev{position:absolute;left:0;right:0}.calendar-table .month .prev{top:0;transform:translateY(-100%)}.calendar-table .month .next{bottom:0;transform:translateY(100%)}",map:void 0,media:void 0})},__vue_scope_id__=void 0,__vue_module_identifier__=void 0,__vue_is_functional_template__=!1,component=__vue_normalize__({render:__vue_render__,staticRenderFns:__vue_staticRenderFns__},__vue_inject_styles__,__vue_script__,__vue_scope_id__,__vue_is_functional_template__,__vue_module_identifier__,__vue_create_injector__,void 0),plugin={install:install},GlobalVue=null;"undefined"!=typeof window?GlobalVue=window.Vue:"undefined"!=typeof global&&(GlobalVue=global.Vue),GlobalVue&&GlobalVue.use(plugin);export default component;
